{"openapi":"3.0.0","paths":{"/affiliations":{"post":{"operationId":"AffiliationsController_initializeAffiliation","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitializeAffiliationRequestDto"}}}},"responses":{"201":{"description":"Search results matching criteria","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitializeAffiliationResponseDto"}}}},"400":{"description":"Functional error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionalError"}}}}}}},"/affiliations/{keyGuid}/personaldata":{"put":{"operationId":"AffiliationsController_updateAffiliation","parameters":[{"name":"keyGuid","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAffiliationRequestDto"}}}},"responses":{"200":{"description":"Search results matching criteria","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitializeAffiliationResponseDto"}}}},"400":{"description":"Functional error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionalError"}}}}}}},"/affiliations/{keyGuid}/recontact":{"post":{"operationId":"AffiliationsController_recontact","parameters":[{"name":"keyGuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""},"400":{"description":"Functional error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionalError"}}}}}}},"/affiliations/{keyGuid}/request":{"post":{"operationId":"AffiliationsController_request","parameters":[{"name":"keyGuid","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestAffiliationRequestDto"}}}},"responses":{"200":{"description":""},"400":{"description":"Functional error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionalError"}}}}}}},"/affiliations/{keyGuid}/bulletin":{"get":{"operationId":"AffiliationsController_getBulletin","parameters":[{"name":"keyGuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"400":{"description":"Functional error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionalError"}}}}}}}},"info":{"title":"Solidaris affiliation API","description":"Solidaris API for affiliation","version":"1.2.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"UserDto":{"type":"object","properties":{"firstName":{"type":"string","maxLength":50},"lastName":{"type":"string","maxLength":50},"birthDate":{"type":"string","description":"The user birth date, should be iso 8601 compatible (eg :  1999-12-25)"},"phoneNumber":{"type":"string"},"email":{"type":"string","maxLength":50}},"required":["firstName","lastName","birthDate"]},"InitializeAffiliationRequestDto":{"type":"object","properties":{"user":{"description":"The user to create.","allOf":[{"$ref":"#/components/schemas/UserDto"}]},"isTitular":{"type":"boolean"}},"required":["user"]},"InitializeAffiliationResponseDto":{"type":"object","properties":{"guid":{"type":"string","description":"Search results matching criteria"}},"required":["guid"]},"FunctionalErrorItem":{"type":"object","properties":{"errorCode":{"type":"string"},"fieldName":{"type":"string"},"errorMessage":{"type":"string"}},"required":["errorCode","fieldName","errorMessage"]},"FunctionalError":{"type":"object","properties":{"httpCode":{"type":"number"},"httpMessage":{"type":"string"},"moreInformation":{"$ref":"#/components/schemas/FunctionalErrorItem"}},"required":["httpCode","httpMessage","moreInformation"]},"PaymentInfoDto":{"type":"object","properties":{"iban":{"type":"string","description":"The user IBAN","maxLength":50},"bic":{"type":"string","description":"The user BIC","maxLength":50},"bankAccountHolder":{"type":"string","description":"The user bank account holder name","maxLength":70},"paymentMethod":{"type":"string","enum":["directDebit","bankTransfert"]},"paymentFrequency":{"type":"string","enum":["monthly","quarterly","semiAnnually","annually"]}},"required":["iban","bankAccountHolder","paymentMethod","paymentFrequency"]},"AddressDto":{"type":"object","properties":{"streetName":{"type":"string"},"streetNumber":{"type":"string"},"streetNumberBox":{"type":"string"},"postalCode":{"type":"string"},"locality":{"type":"string"},"country":{"type":"object"}},"required":["streetName","streetNumber","postalCode","locality","country"]},"InsurerDto":{"type":"object","properties":{"foreignInsuranceName":{"type":"string","maxLength":255,"description":"Foreign insurer name. Must be filled if mutu is empty"},"mutu":{"type":"string","enum":["territory_100","territory_200","territory_300","territory_400","territory_500","territory_600","territory_900"],"description":"Belgian insurance organisme. Must be filled if foreignIsuranceName is empty"},"foreignInsurerCountry":{"type":"string","maxLength":60,"description":"Country of foreign insurer. Must be filled if foreignInsuranceName is filled"}}},"UpdateAffiliationRequestDto":{"type":"object","properties":{"baseFields":{"description":"The base information for the affiliation.","allOf":[{"$ref":"#/components/schemas/UserDto"}]},"isTitular":{"type":"boolean"},"nationality":{"type":"string","maxLength":50},"niss":{"type":"string","description":"The user national registry number","maxLength":50},"civilState":{"type":"string","description":"The user civil state","enum":["single","cohabiting","legalCohabiting","married","separated","divorced","widow"]},"employmentStatus":{"type":"string","description":"The user employment status. If \"other\" selected, \"specificEmploymentStatus\" field must be filled","enum":["employee","worker","publicServiceAgent","independent","widow","unemployed","pensioner","borderer","nationalRegistryHolder","handicapped","diplomat","other"]},"specificEmploymentStatus":{"type":"string","maxLength":40},"paymentInfo":{"description":"The user payment information","allOf":[{"$ref":"#/components/schemas/PaymentInfoDto"}]},"dependents":{"description":"The list of possible dependents.","items":{"type":"array"},"type":"array"},"affiliationType":{"type":"string","enum":["mutation","transfer","titularization","foreignerAffiliation"]},"address":{"$ref":"#/components/schemas/AddressDto"},"currentInsurerInformation":{"$ref":"#/components/schemas/InsurerDto"},"sexe":{"type":"object"},"territory":{"type":"string","description":"The territory of the user","enum":["FEDE_305","FEDE_315","FEDE_317","FEDE_319","FEDE_325"]}},"required":["baseFields","currentInsurerInformation"]},"SMAAddressDto":{"type":"object","properties":{}},"TitularDto":{"type":"object","properties":{"niss":{"type":"string"},"firstname":{"type":"string"},"lastname":{"type":"string"},"birthdate":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"contactByEmail":{"type":"string"},"contactByPhone":{"type":"string"},"isMember":{"type":"string"},"isInsured":{"type":"string"},"paymentMode":{"type":"string"},"paymentFrequency":{"type":"string"},"address":{"$ref":"#/components/schemas/SMAAddressDto"}},"required":["niss","firstname","lastname","birthdate","email","phone","contactByEmail","contactByPhone","isMember","isInsured","paymentMode","paymentFrequency","address"]},"SMAQuotationRequestDto":{"type":"object","properties":{"titular":{"$ref":"#/components/schemas/TitularDto"},"familyMembersAges":{"type":"array","items":{"type":"string"}},"insurances":{"type":"array","items":{"type":"string"}}},"required":["titular","familyMembersAges","insurances"]},"RequestAffiliationRequestDto":{"type":"object","properties":{"sendByPaperMail":{"type":"boolean","description":"Indicates whether you want to send the mail by letter or not"},"smaQuotationRequest":{"description":"Insurance information to be sent to DataPower","allOf":[{"$ref":"#/components/schemas/SMAQuotationRequestDto"}]}},"required":["sendByPaperMail"]}}}}
